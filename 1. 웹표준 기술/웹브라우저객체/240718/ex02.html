<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        .box {
            padding: 150px;
        }
        .box1 {
            background-color: slateblue;
        }
        .box2 {
            background-color: green;
        }
        .box3{
            background-color: indianred;
        }
    </style>
</head>
<body>
    <script>
        window.addEventListener("DOMContentLoaded", function() {
            
            const box1El = document.querySelector(".box1");
            box1El.addEventListener("click", function() {
            console.log("BOX1 클릭");
        });

        const box2El = document.querySelector(".box2");
        box2El.addEventListener("click", function() {
            console.log("BOX2 클릭");
        }, true); // 캡처링 단계에서 이벤트 발생

        const box3El = document.querySelector(".box3");
        box3El.addEventListener("click", function(e) {
            console.log("BOX3 클릭1");
            // e.stopPropagation(); // 이벤트 전파 취소 (동일 요소 클릭한 이벤트만 전파 취소) -> 클릭1과 2 모두 실행
            e.stopImmediatePropagation(); // 같은 요소에 부여된 본인 외의 이벤트 전파 다 취소 -> 클릭1만 실행
            // console.log(e);
        }); 
        
        
        box3El.addEventListener("click", function(e) {
            console.log("BOX3 클릭2");
        });
    });

        
    </script>
    <div class="box box1">
        BOX1
        <div class="box box2">
            BOX2
            <div class="box box3">
                BOX3
            </div>
        </div>
    </div>
</body>
</html>